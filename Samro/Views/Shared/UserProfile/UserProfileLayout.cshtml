<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>مدیریت هنرهای رزمی</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.rtl.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <style>
                :root {
                    --primary-color: #e31e24;
                    --secondary-color: #d6d1d1;
                    --light-color: #ffffff;
                }

                body {
                    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                    background-color: #f8f9fa;
                    overflow-x: hidden;
                }
                /* Gradient card headers */
        .card-header {
            background: linear-gradient(90deg, var(--primary-color), #b31217);
            color: white;
            font-weight: bold;
            border-bottom: none;
        }

        /* Floating background circles */
        .floating-circles {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            z-index: 0;
            overflow: hidden;
            pointer-events: none;
        }
        .floating-circles span {
            position: absolute;
            display: block;
            width: 20px; height: 20px;
            background: rgba(227,30,36,0.2);
            border-radius: 50%;
            animation: float 20s linear infinite;
        }
        @@keyframes float {
            0% { transform: translateY(100vh) scale(0); opacity: 0; }
            50% { opacity: 1; }
            100% { transform: translateY(-10vh) scale(1); opacity: 0; }
        }

        /* Floating Action Button (FAB) */
        .fab {
            position: fixed;
            bottom: 30px;
            left: 30px;
            width: 55px;
            height: 55px;
            background-color: var(--primary-color);
            color: white;
            border-radius: 50%;
            font-size: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            z-index: 1050;
            transition: all 0.3s;
        }
        .fab:hover {
            background-color: #b31217;
            transform: scale(1.05);
        }


                /* Loading Animation */
                .loading-overlay {
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background-color: rgba(255, 255, 255, 0.9);
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    z-index: 9999;
                    transition: opacity 0.5s ease;
                }

                .loading-spinner {
                    width: 50px;
                    height: 50px;
                    border: 5px solid var(--secondary-color);
                    border-top: 5px solid var(--primary-color);
                    border-radius: 50%;
                    animation: spin 1s linear infinite;
                }

                @@keyframes spin {
                    0% { transform: rotate(0deg); }
                    100% { transform: rotate(360deg); }
                }

                /* Sidebar Styles */
                .sidebar {
                    position: fixed;
                    top: 0;
                    right: 0;
                    bottom: 0;
                    width: 250px;
                    background-color: var(--light-color);
                    box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
                    transition: all 0.3s;
                    z-index: 1000;
                }

                .sidebar-header {
                    padding: 20px;
                    background-color: var(--primary-color);
                    color: white;
                    text-align: center;
                }

                .sidebar-header h3 {
                    margin: 0;
                    font-weight: bold;
                }

                .sidebar-menu {
                    padding: 0;
                    list-style: none;
                }

                .sidebar-menu li {
                    position: relative;
                }

                .sidebar-menu li a {
                    display: block;
                    padding: 12px 20px;
                    color: #333;
                    text-decoration: none;
                    transition: all 0.3s;
                    border-right: 3px solid transparent;
                }

                .sidebar-menu li a:hover {
                    background-color: rgba(227, 30, 36, 0.1);
                    border-right-color: var(--primary-color);
                }

                .sidebar-menu li a.active {
                    background-color: rgba(227, 30, 36, 0.1);
                    border-right-color: var(--primary-color);
                    color: var(--primary-color);
                }

                .sidebar-menu li a i {
                    margin-left: 10px;
                }

                .sidebar-menu .submenu {
                    padding-right: 30px;
                    list-style: none;
                    display: none;
                    background-color: rgba(214, 209, 209, 0.2);
                }

                .sidebar-menu .submenu li a {
                    padding: 10px 15px;
                    font-size: 0.9em;
                }

                .sidebar-menu .has-submenu > a:after {
                    content: '\f282';
                    font-family: 'bootstrap-icons';
                    position: absolute;
                    left: 20px;
                    top: 12px;
                    transition: transform 0.3s;
                }

                .sidebar-menu .has-submenu.active > a:after {
                    transform: rotate(90deg);
                }

                /* Main Content */
                .main-content {
                    margin-right: 250px;
                    padding: 20px;
                    transition: all 0.3s;
                }

                /* Navbar */
                .navbar {
                    background-color: var(--light-color);
                    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
                    padding: 10px 20px;
                }

                .navbar-brand img {
                    height: 40px;
                }

                .search-box {
                    position: relative;
                    max-width: 400px;
                }

                .search-box input {
                    padding-right: 40px;
                    border-radius: 20px;
                    border: 1px solid var(--secondary-color);
                }

                .search-box button {
                    position: absolute;
                    left: 10px;
                    top: 50%;
                    transform: translateY(-50%);
                    background: none;
                    border: none;
                    color: var(--secondary-color);
                }

                .user-menu img {
                    width: 40px;
                    height: 40px;
                    border-radius: 50%;
                    object-fit: cover;
                }

                /* Cards */
                .card {
                    border: none;
                    border-radius: 10px;
                    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
                    transition: all 0.3s;
                    margin-bottom: 20px;
                }

                .card:hover {
                    transform: translateY(-5px);
                    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
                }


                .card-body {
                    padding: 20px;
                }

                /* Stats Cards */
                .stat-card {
                    text-align: center;
                    padding: 20px;
                }

                .stat-card .icon {
                    width: 60px;
                    height: 60px;
                    margin: 0 auto 15px;
                    background-color: rgba(227, 30, 36, 0.1);
                    border-radius: 50%;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    color: var(--primary-color);
                    font-size: 24px;
                }

                .stat-card h3 {
            font-size: 22px;
            white-space: nowrap;
            direction: ltr;
            text-align: center;
        }

                .stat-card p {
                    color: #666;
                    margin: 0;
                }

                /* Tables */
                .table th {
                    background-color: var(--secondary-color);
                    color: #333;
                }

                /* Buttons */
                .btn-primary {
                    background-color: var(--primary-color);
                    border-color: var(--primary-color);
                }

                .btn-outline-primary {
                    color: var(--primary-color);
                    border-color: var(--primary-color);
                }

                .btn-outline-primary:hover {
                    background-color: var(--primary-color);
                    border-color: var(--primary-color);
                }

                /* Badges */
                .badge-primary {
                    background-color: var(--primary-color);
                }

                /* Animations */
                @@keyframes fadeIn {
                    from { opacity: 0; transform: translateY(20px); }
                    to { opacity: 1; transform: translateY(0); }
                }

                .animate-fade-in {
                    animation: fadeIn 0.5s ease forwards;
                }

                .delay-1 { animation-delay: 0.1s; }
                .delay-2 { animation-delay: 0.2s; }
                .delay-3 { animation-delay: 0.3s; }
                .delay-4 { animation-delay: 0.4s; }

                /* Responsive */
                @@media (max-width: 992px) {
                    .sidebar {
                        right: -250px;
                    }

                    .sidebar.active {
                        right: 0;
                    }

                    .main-content {
                        margin-right: 0;
                    }

                    .navbar-toggler {
                        display: block;
                    }
                }

                /* Martial Arts Theme Elements */
                .martial-arts-icon {
                    color: var(--primary-color);
                }

                .belt-rank {
                    display: inline-block;
                    width: 30px;
                    height: 10px;
                    margin-left: 5px;
                    vertical-align: middle;
                }

                .belt-white { background-color: white; border: 1px solid #ddd; }
                .belt-yellow { background-color: #ffeb3b; }
                .belt-orange { background-color: #ff9800; }
                .belt-green { background-color: #4caf50; }
                .belt-blue { background-color: #2196f3; }
                .belt-brown { background-color: #795548; }
                .belt-black { background-color: #212121; }

                /* Profile Section */
                .profile-card {
                    text-align: center;
                }

                .profile-img {
                    width: 150px;
                    height: 150px;
                    border-radius: 50%;
                    object-fit: cover;
                    border: 5px solid var(--secondary-color);
                    margin: 0 auto 20px;
                }

                .profile-title {
                    color: var(--primary-color);
                    margin-bottom: 10px;
                }

                .profile-belt {
                    display: inline-block;
                    padding: 5px 15px;
                    background-color: #212121;
                    color: white;
                    border-radius: 20px;
                    font-size: 0.9em;
                    margin-bottom: 20px;
                }

                .profile-stats {
                    display: flex;
                    justify-content: space-around;
                    margin: 20px 0;
                }

                .profile-stat {
                    text-align: center;
                }

                .profile-stat h4 {
                    margin: 0;
                    color: var(--primary-color);
                }

                .profile-stat p {
                    margin: 0;
                    font-size: 0.8em;
                    color: #666;
                }
    </style>
</head>
<body>
    <!-- Floating Background Animation -->
    <div class="floating-circles">
        <span style="left: 5%; animation-delay: 0s;"></span>
        <span style="left: 15%; animation-delay: 2s;"></span>
        <span style="left: 30%; animation-delay: 4s;"></span>
        <span style="left: 50%; animation-delay: 1s;"></span>
        <span style="left: 70%; animation-delay: 3s;"></span>
        <span style="left: 90%; animation-delay: 5s;"></span>
    </div>


    <!-- Loading Overlay -->
    <div class="loading-overlay">
        <div class="loading-spinner"></div>
    </div>

    <!-- Sidebar -->
    <div class="sidebar">
        <div class="sidebar-header">
            <h3>هنرهای رزمی</h3>
            <p>سیستم مدیریت آموزشگاه</p>
        </div>
        <ul class="sidebar-menu">
            <li class="has-submenu">
                <a asp-area="Profile" asp-controller="Accounts" asp-action="index" class="active">
                    <i class="bi bi-speedometer2"></i>
                    حساب کاربری
                </a>
                <ul class="submenu">
                    <li><a asp-area="Profile" asp-controller="Accounts" asp-action="EditProfile">ویرایش پروفایل</a></li>
                    <li><a asp-area="Profile" asp-controller="Accounts" asp-action="ChangePassword">تغییر رمز عبور</a></li>
                </ul>
            </li>
            <li class="has-submenu">
                <a asp-area="Profile" asp-controller="Achievements" asp-action="index" >
                    <i class="bi bi-speedometer2"></i>
                    دست آورد ها
                </a>
                <ul class="submenu">
                    <li><a href="#">دست آورد های رزمی</a></li>
                </ul>
            </li>
            <li class="has-submenu">
                <a asp-area="Profile" asp-controller="Payments" asp-action="index" >
                    <i class="bi bi-speedometer2"></i>
                    پرداختی ها
                </a>
                <ul class="submenu">
                    <li><a href="#">پرداخت های مسابقات</a></li>
                </ul>
            </li>
            <li class="has-submenu">
                <a asp-area="Profile" asp-controller="Tournaments" asp-action="index">
                    <i class="bi bi-speedometer2"></i>
                    مسابقات
                </a>
                <ul class="submenu">
                    <li><a href="#">مسابقات رزمی</a></li>
                </ul>
            

        </ul>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Navbar -->
        <nav class="navbar navbar-expand-lg">
            <div class="container-fluid">
                <button class="navbar-toggler d-lg-none" type="button">
                    <i class="bi bi-list"></i>
                </button>

                <div class="search-box me-auto">
                    <input type="text" class="form-control" placeholder="جستجو...">
                    <button type="button" class="btn">
                        <i class="bi bi-search"></i>
                    </button>
                </div>

                <div class="user-menu d-flex align-items-center">
                    <div class="dropdown">
                        <a href="#" class="dropdown-toggle d-flex align-items-center" data-bs-toggle="dropdown">
                            <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="User">
                            <span class="me-2">امین محمدی</span>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end">
                            <li><a class="dropdown-item" href="#"><i class="bi bi-person me-2"></i>پروفایل</a></li>
                            <li><a class="dropdown-item" href="#"><i class="bi bi-gear me-2"></i>تنظیمات</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="#"><i class="bi bi-box-arrow-left me-2"></i>خروج</a></li>
                        </ul>
                    </div>
                    <button class="btn btn-sm ms-3">
                        <i class="bi bi-bell"></i>
                        <span class="badge bg-danger rounded-pill">3</span>
                    </button>
                </div>
            </div>
        </nav>

        <!-- Page Content -->
        @RenderBody()
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
            document.addEventListener('DOMContentLoaded', () => {
              // Fade out loading screen
              const loadingOverlay = document.querySelector('.loading-overlay');
              if (loadingOverlay) {
                loadingOverlay.style.opacity = '0';
                setTimeout(() => loadingOverlay.style.display = 'none', 500);
              }

              // Sidebar toggle on small screens
              const sidebar = document.querySelector('.sidebar');
              const toggler = document.querySelector('.navbar-toggler');
              if (toggler && sidebar) {
                toggler.addEventListener('click', () => sidebar.classList.toggle('active'));
                document.addEventListener('click', (e) => {
                  if (window.innerWidth <= 992 && !sidebar.contains(e.target) && !toggler.contains(e.target)) {
                    sidebar.classList.remove('active');
                  }
                });
              }

              // Submenu toggle
              document.querySelectorAll('.has-submenu > a').forEach(link => {
                link.addEventListener('click', (e) => {
                  e.preventDefault();
                  const parent = link.closest('li.has-submenu');
                  const submenu = parent.querySelector('.submenu');

                  document.querySelectorAll('.has-submenu').forEach(item => {
                    if (item !== parent) {
                      item.classList.remove('active');
                      item.querySelector('.submenu')?.classList.remove('submenu-expanded');
                    }
                  });

                  parent.classList.toggle('active');
                  submenu?.classList.toggle('submenu-expanded');
                });
              });

              // Animated Counters
              document.querySelectorAll('.stat-card h3').forEach(counter => {
                const update = () => {
                  const target = +counter.innerText.replace(/[^0-9]/g, '');
                  const current = +counter.getAttribute('data-count') || 0;
                  const inc = Math.ceil(target / 100);
                  if (current < target) {
                    counter.innerText = (current + inc).toLocaleString();
                    counter.setAttribute('data-count', current + inc);
                    setTimeout(update, 20);
                  } else {
                    counter.innerText = target.toLocaleString();
                  }
                };
                counter.setAttribute('data-count', 0);
                update();
              });

              // Tooltips
              const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
              tooltipTriggerList.map(el => new bootstrap.Tooltip(el));
            });
            document.addEventListener("DOMContentLoaded", () => {
          const counters = document.querySelectorAll('.counter');
          counters.forEach(counter => {
            const target = +counter.getAttribute('data-target');
            let count = 0;
            const step = Math.ceil(target / 100);

            const update = () => {
              if (count < target) {
                count += step;
                if (count > target) count = target;
                counter.innerText = count.toLocaleString();
                requestAnimationFrame(update);
              } else {
                counter.innerText = target.toLocaleString();
              }
            };

            update();
          });
        });
    </script>

    <style>
        /* Clean submenu toggle styles */
        .submenu-collapsed {
            display: none !important;
        }
        .submenu-expanded {
            display: block !important;
            animation: fadeIn 0.3s ease-in-out;
        }
    </style>
    @RenderSection("Scripts", false)
</body>
</html>
